{"Includes": ["#include <stdio.h>\n", "#include <stdint.h>\n", "#include <stdlib.h> /* calloc() */\n", "#include <string.h> /* strdup() */\n"], "Defines": [], "TypeDefs": [], "Globals": [], "Structs": [], "Function Declarations": ["static void calc_vol(unsigned char *regbyte, int volume) ;"], "Function Implementations": ["static void calc_vol(unsigned char *regbyte, int volume) {\n  int level;\n  /* invert bits and strip out the KSL header */\n  level = ~(*regbyte);\n  level &= 0x3f;\n\n  /* adjust volume */\n  level = (level * volume) / 127;\n\n  /* boundaries check */\n  if (level > 0x3f) level = 0x3f;\n  if (level < 0) level = 0;\n\n  /* invert the bits, as expected by the OPL registers */\n  level = ~level;\n  level &= 0x3f;\n\n  /* final result computation */\n  *regbyte &= 0xC0;  /* zero out all attentuation bits */\n  *regbyte |= level; /* fill in the new attentuation value */\n}"], "Enums": []}